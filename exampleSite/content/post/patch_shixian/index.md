+++
author = "sh"
title = "record"
date = "2024-7-10"
description = "Today's learning "
categories = [
    "Today's learning"
]
tags = [
    "Today's learning"
]

+++

![](2.jpg)

## 问题：

1.一个是攻击了模板，我们统一攻击搜索区域复现下，看看结果，这样就行，模板有啥好攻击的，搞得我攻击的时候能知道模板是哪一张





# 实验复现

1. 模板的补丁初始化为零，而搜索区域的补丁初始化为均值为128的正态分布，然后k次迭代后，更新到了127 * 127 * 3 和 128* 128 * 3，分别是模板区域和搜素区域上的。z= 𝒛 + 𝜹kz,这个是模板的，𝒔̃= 𝛽(𝒔,𝜹𝑘𝑠 , 𝒃𝑓𝑎)，这个是搜索区域的叠加扰动，就是将这个大小的图片进行了插值成fake 目标大小，就是bfa的位置，也就是bfa是后续要解决的核心



## 损失复现

1. patch 怎么影响最后的结果的，现在的我看到了只是放大补丁和其他的注意力
2. 权重损失，感觉可以再影响其他的，试一下，感觉很多没法解释
3. 为什么是k作为patch ，而不是采用q
4. 是否是和，是否还有更适合的，但是需要先弄一版。k3 查询的点积相似度的增加将模型的注意力从图像内容转移到了对抗性补丁上。
5. 归一化和作为q的损失也可以试一下
6. CNN 到 Transformer是不是更容易受到攻击
7. 不对齐的话，就是把带有的都算上，怎么实现公式呢
8. patch-fool 的attention这里的思想是选取了某一块查询，影响全局键值的点积的最大处，比起注意力机制选择的区别，会不会这种选择的方式更符合呢，这是一个问题\
9. 输出的大小不一定，缩放和直接生成这两种是不一定的，多此一举，都是无用

## 书写

1. 我们提出的补丁愚人攻击中，我们不限制每个像素的扰动强度，而是将所有扰动像素限制在一个补丁

2. 权重的和点积的，不够的话

3. Pcgard是个思路，去平衡cls 和reg 以及product

4. 在点积操作中：

   **行（Query positions）**: 计算时，每一行代表一个查询向量 Qi 对所有键向量 Kj的点积结果，即计算查询位置 iii 与所有键位置 jjj 的相关性。

   **列（Key positions）**: 每一列代表一个键向量 KjK_jKj 在所有查询向量 Qi相关性，即表示键位置 jjj 对所有查询位置的影响力。

5. 感觉可以在V上也攻击，看看区别

## 论文可做实验整理

1.不同层的影响，这里自注意力需要分清楚吗

（1）经过corss 的自注意力，能否被search给影响了

（2）cross的q to k 和 k to q 有需要分清吗

分成4种和各自的，还有所有的 ，还有簇分类，有用的话，就分析就号了，内容就够了，其他的两个追踪器实现，加上基底的测试，先写

（3）补丁大小问题



9.9 - 9.15  完成

1,基地的问题，实验没有完全模拟得重新跑下 。

2.网络同样存在问题，我加入了其他的层，但是没有效果，这个也得弄个消融，如果要保证无关的吧，感觉涉及到了根本的问题，

总的加入了两个层，已经是后面的处理层，不一定有用

3.两个损失，product损失

4.attention 

5.比较

所以，需要弄得

1.基地重写，不写了太麻烦了，有剩余时间再写

2.网络修改得地方要重写，不一定有区别应该怎么办，好的效果?

3,都比基底好，这个只要一次好就行，是在后面单独比得所以无所谓，需要单独写吗，不一样，没什么时间，我要快点搞完，减少工作量，第一把num给固定了，这个不能改



1.如果对比的话，一个是损失，一个是网络结构，网络结构有两份分，损失3个部分

找个潜在的训练问题，我感觉好像不需要损失训练的出来的都是一样 ，目前的是先统一大小是10 这样，有些可以提交之后再改



写一个实验过程需要做的实验，做个网络相关的结果，以及预处理网络的结果，这个就很麻烦

怎么设计一个好的，补丁大小怎么确定，一个是

基底网络变换测试，预处理测试 ，所以还需要两个

检查是不是又写错的，才是关键





重新跑之前的都有问题，点积必定有用，就像怎么做就好



1.改从clean获取，直接改到search，这个更强，取参考其他的，配合点积就好，加上reg和置信度其他的，做两到三个

2.模型的，做两个，先要判断预训练的有没有用



9.11

1.改个训练模式，可能，补丁的问题，检测atention只会在搜索区域或者template阶段，当放在物体上就没有attention，这个就不管了，现在就是要让product有效，按理来说都会促进，还有加上风格迁移的。整个过程，难度在product和风格
